#서울열린데이터(OpenAPI)
library(XML)

reqURL <- "http://openapi.seoul.go.kr:8088"
myKey <- "475170504f6f6f6e35366f4d6c5477"
values <- c(myKey, "xml", "SeoulLibraryTimeInfo", 1, 5)

req <- paste(c(reqURL, values), collapse = "/")
req

respone <- xmlTreeParse(req, useInternalNodes = TRUE, encoding ="UTF-8")
summary(respone)

rn <- xmlRoot(respone)
rn

xpathApply(rn, "//MESSAGE", xmlValue)
xpathApply(rn, "//list_total_count", xmlValue)

taDeath <- xmlToDataFrame(nodes = getNodeSet(rn, "//row"))


